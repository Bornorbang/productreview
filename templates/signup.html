{% extends 'main.html'%}
{% load static %}

{% block header %}
<!-- Header Start -->
<div class="container-fluid bg-breadcrumb">
    <div class="container text-center py-5" style="max-width: 900px;">
        <h4 class="text-white display-4 mb-4 wow fadeInDown" data-wow-delay="0.1s">Register</h4>    
    </div>
</div>
<!-- Header End -->

<!-- SignUp Start -->
<div class="container-fluid contact bg-light py-5">
    <div class="container py-5">
        <div class="row g-5">

            <div class="card py-4 wow fadeInRight" data-wow-delay="0.4s">
                <div>
                    <h4 class="text-primary">Create an Account</h4>
                    {% if messages %}
                                {% for message in messages%}
                                    {% if message.tags == "success"%}
                                    <div class="alert alert-success alert-dismissible" role="alert">

                                        <p class="mb-4">{{message}}</p>
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                        </button>
                                    </div>
                                    {% else %}
                                        <div class="alert alert-danger alert-dismissible" role="alert">
                                            <p class="mb-4">{{message}}</p>
                                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                                            </button>
                                        </div>
                                    {% endif %}

                                {% endfor %}
                            {% endif %}
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row g-3">
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">
                                    {{user_form.username}}
                                    <label for="name">Username
                                        {% if form.username.errors %}
                                            <div class="text-danger">{{ user_form.username.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div>
                            <div class="col-lg-12 col-xl-6">
                                <div class="form-floating">
                                    {{profile_form.phone}}
                                    <label for="phone">Your Phone
                                        {% if form.phone.errors %}
                                            <div class="text-danger">{{ profile_form.phone.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    {{user_form.email}}
                                    <label for="email">Your Email
                                        {% if form.email.errors %}
                                            <div class="text-danger">{{ user_form.email.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <div class="form-floating">
                                    {{user_form.password1}}
                                    <label for="password">Password
                                        {% if form.password1.errors %}
                                            <div class="text-danger">{{ user_form.password1.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    {{user_form.password2}}
                                    <label for="confirmPassword">Confirm Password
                                        {% if form.password2.errors %}
                                            <div class="text-danger">{{ user_form.password2.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    {{profile_form.state}}
                                    <label for="name">State
                                        {% if form.state.errors %}
                                            <div class="text-danger">{{ profile_form.state.errors }}</div>
                                        {% endif %} 
                                </div>
                            </div><br><br>
                            <div class="col-12 mb-3">
                                    <label for="profile_picture">Upload Profile Picture:
                                        {% if form.profile_picture.errors %}
                                            <div class="text-danger">{{ profile_form.username.profile_picture }}</div>
                                        {% endif %} <br>
                                    {{profile_form.profile_picture}}
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <button class="btn btn-primary w-100 py-3">Register</button>
                            </div>
                        </div>
                    </form>
                    <p class="text-center mt-3">Already have an account? <a href="{% url 'user_login' %}">Login here</a></p>
                </div>
            </div>
           
        </div>
    </div>
</div>
<!-- SignUp End -->

{% endblock %}